
global:
  namespace: ${namespace}
  container_name: ${container_name}
  local_ip: ${local_ip}


server:
  app: ${app}
  server: ${server}
  filters:
    - 007
  services:
    - name: grpc.${app}.${server}.UserService
      protocol: grpc
      port: 8000
      registry: polaris
    - name: grpc.${app}.${server}.UserServiceHTTP
      protocol: http
      port: 9000
      registry: polaris
      labels:
        target: 127.0.0.1:8000

#clinet:
#  filter:
#    - 007
#  namespace: ${namespace}
#  timeout: 1000


plugins:
  registry:
    polaris:
      heartbeat_interval: 3000
      service:
        - name: grpc.one.user_server.UserService
          namespace: test
          bind_address: 127.0.0.1:8080
          token: token
          weight: 100
        - name: grpc.one.user_server.UserServiceHTTP
          namespace: test
          bind_address: 127.0.0.1:8090
          port: 8090
          token: token
          weight: 100